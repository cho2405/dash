<!DOCTYPE html>
<html>
<head>
	
	<title>GeoJSON tutorial - Leaflet</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
    
	<style>
		html, body {
			height: 100%;
			margin: 0;
		}
		#map {
			width: 1000px;
			height: 800px;
		}
	</style>

	
</head>
<body>

<div id='map'></div>



<script>
	var map = L.map('map').setView([36.74739, 128], 8);

	L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
			'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
		id: 'mapbox/light-v9',
		tileSize: 512,
		zoomOffset: -1
	}).addTo(map);

    var gu_json = [{"type":"FeatureCollection","bbox":[124.7893154389517,33.17261058239259,130.96325546758288,38.54261253850525],"features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[127.60472638427933,38.072648233869785],[127.60776133059719,38.071674018579536],[127.65473867484185,38.02576695898344],[127.65490464895771,38.0272843475771],[127.73374753570245,38.035814428263734],[127.73394342807514,38.03607616237089],[127.77599099169834,38.01389743776739],[127.77653868086756,38.013597091144185],[127.77680464554413,38.013645455050394],[127.77680679204794,38.01364599945677],[127.77821827512304,38.01390161291351],[127.78820556176866,37.99429384493769],[127.85810008725723,38.018823189046856],[127.84998445340655,38.03881738462732],[127.84996624162804,38.03970714676426],[127.85341448275034,38.05051795468947],[127.85515517661896,38.05230429633902],[127.90267220658595,38.05059746772935],[127.90406646899208,38.03033085142509],[127.93819691986677,38.0142189559451],[127.95542737502664,38.038681717354734],[128.0266722331339,38.017796712480774],[128.02775769398346,38.01662989632316],[128.02960825528916,38.01465092963498],[127.99156474624627,37.99104134769293],[127.98061750639293,37.9560245946445],[127.99511005992537,37.94120017831497],[127.94297354008073,37.847717380673835],[127.880749571477,37.860690469300174],[127.87160537691756,37.83749890981126],[127.83226963288861,37.84363809611895],[127.82488916066619,37.798252559546434],[127.85739655033578,37.768520783600316],[127.82834990088885,37.74087966069713],[127.74645263424765,37.74192034567269],[127.68158535483602,37.71171483961186],[127.67782878808474,37.6951459897275],[127.59616561240232,37.70319433793947],[127.5599120761837,37.728576643007834],[127.53840882669513,37.720099166469765],[127.53734262478201,37.72048692268131],[127.50811462954897,37.71901946586745],[127.50706716797781,37.72059387794086],[127.51400490578338,37.73860299720318],[127.51568218551617,37.73957689422137],[127.51687145746531,37.74026739868065],[127.52266757137158,37.74278823313853],[127.54498749784119,37.76363171125695],[127.52753971505571,37.78406721886224],[127.52567833477512,37.785345279088446],[127.52632867517762,37.79935066412937],[127.52675615810597,37.799765445455876],[127.53244266532597,37.842152266197694],[127.53669821638387,37.84481158795707],[127.61705254374384,37.905995787690856],[127.60660211053394,37.94371269810118],[127.60373628932362,37.94449064874135],[127.54737624545533,37.96645830996346],[127.54021885972703,37.99986793813673],[127.54031461249298,38.00116171374267],[127.54480116672471,38.019155346217104],[127.54476050204117,38.019527438325206],[127.5786433502747,38.0397670520254],[127.56558569828945,38.083013464968246],[127.56610867637458,38.08385920379707],[127.60472638427933,38.072648233869785]]]},"properties":{"SIG_CD":"42110","SIG_ENG_NM":"Chuncheon-si","SIG_KOR_NM":"춘천시"}},{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[128.10856018737485,37.29880426255525],[128.10878511992163,37.29782403111697],[128.10875253235884,37.29723531705914],[128.1089476881761,37.29670022218355],[128.10891397144547,37.29656425755971],[128.1087634558821,37.29596115593188],[128.10868406781043,37.29564206077995],[128.1098388508222,37.28117126101853],[128.10988558183277,37.28065811301964],[128.1100127810806,37.28044208503452],[128.11039995186096,37.27930828700356],[128.11499464745074,37.27433647389337],[128.11459281119144,37.27348627857043],[128.1166185236849,37.272258484339396],[128.11739922943445,37.27263854752035],[128.1180565775141,37.27263348039387],[128.12140843121588,37.27222171846795],[128.12234024194385,37.27314401203433],[128.12337183470888,37.274165308976],[128.12453592430862,37.27506596081336],[128.1246778215039,37.27515499171538],[128.16341471120046,37.27391672295258],[128.1639136418826,37.27446930842442],[128.1679746599289,37.27621189661394],[128.16871218669556,37.276788586372994],[128.16979671381404,37.277382948857856],[128.17016403810524,37.27791963596127],[128.17078520899818,37.277714150184934],[128.17104850401935,37.277788700195316],[128.1716349090845,37.27795465468585],[128.17206817099898,37.278448159342716],[128.17212054154038,37.27850790729365],[128.17215429454797,37.27852586659923],[128.1776923176258,37.281732805224095],[128.17769075160652,37.282447130296816],[128.1829689144539,37.292822570889264],[128.18314988426172,37.292901565346355],[128.18332640125846,37.292764089495144],[128.18550570453982,37.292359111750656],[128.18620704060214,37.29283383785769],[128.1880883618023,37.292843700379834],[128.1892131230116,37.29314889217893],[128.19199375388186,37.29612881763914],[128.19289647408755,37.296675240722095],[128.1944570390065,37.29727866361105],[128.19469575603503,37.2973086382505],[128.1993599327097,37.294781575205846],[128.19951798963652,37.29428106522343],[128.20000629065873,37.29340554770403],[128.20008127321722,37.29335579710048],[128.2001120985461,37.29332197755761],[128.20041245141275,37.2929951494366],[128.2034507447285,37.28988186390757],[128.20413577861532,37.29001315015571],[128.20446187038007,37.29013146837656],[128.20467932174958,37.28993385497805],[128.21691642422664,37.28030210494177],[128.21788982944696,37.27952740057915],[128.21845526174107,37.27855866808762],[128.21841184993673,37.27848844164897],[128.21827732637283,37.27827049937365],[128.217848194046,37.277574953484375],[128.21716709215306,37.277748067931974],[128.21688248330955,37.277797458408045],[128.21654736409323,37.277246224864285],[128.2165385667661,37.27724744138956],[128.21567527854074,37.277375121024],[128.215501924678,37.277242593754245],[128.2153722296386,37.27721830503315],[128.21275194383327,37.275639151056616],[128.21168799098496,37.275511219266924],[128.2077991896154,37.24882300952156],[128.16404061938013,37.21330869864068],[128.1253222362259,37.23453731883652],[128.11150412572263,37.20767154710672],[128.0372030644741,37.18928064453194],[128.01921550149873,37.244377768719026],[127.97989775097629,37.25833428222974],[127.92158334234006,37.225045283989196],[127.93625929439231,37.188766865606546],[127.92632698583145,37.165527345499584],[127.90163979865974,37.151802295316635],[127.87205003660239,37.16434397018086],[127.78952364442031,37.14340827631528],[127.75552751965634,37.171440833446205],[127.74452466055601,37.211897403301336],[127.74657989932719,37.2147885951135],[127.75944041376133,37.26429197693787],[127.75069455729248,37.29796777258437],[127.75177150902012,37.29770528939074],[127.76814769673854,37.30952714758468],[127.75966006234151,37.36698133132699],[127.75954226312749,37.367131888106734],[127.7945716230109,37.424345517065944],[127.79455844362523,37.424401637910066],[127.80046640153832,37.43864051804396],[127.80134737750683,37.439002558381155],[127.81983336721284,37.446575494178916],[127.86394398233536,37.425326124551404],[127.87698724126902,37.46692082467384],[127.90750932583948,37.478956102803686],[127.90744617348413,37.479050621552254],[127.94930219450167,37.45444193880544],[128.00262326453898,37.45684202855888],[128.08423594773004,37.42672734467313],[128.0972955818718,37.40668743200872],[128.07678598497216,37.37374102521341],[128.03918951249963,37.35596406929321],[128.05197734315522,37.308456049818815],[128.10856018737485,37.29880426255525]]]},"properties":{"SIG_CD":"42130","SIG_ENG_NM":"Wonju-si","SIG_KOR_NM":"원주시"}}]}];
    
    
    
    function highlightFeature(e) {
        var layer = e.target;

        layer.setStyle({
            weight: 5,
            color: '#666',
            dashArray: '',
            fillOpacity: 0.7
        });

        if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
            layer.bringToFront();
        }
    }

    function resetHighlight(e) {
        geojson.resetStyle(e.target);
    }
    var geojson;
    function zoomToFeature(e) {
        console.log("---zoomToFeature");
        map.fitBounds(e.target.getBounds());
    }

    function onEachFeature(feature, layer) {
        console.log("---onEachFeature");
        layer.on({
            mouseover: highlightFeature,
            mouseout: resetHighlight,
            click: zoomToFeature
        });
    }
    function zoomToFeature(e) {
    map.fitBounds(e.target.getBounds());
}
    
    function style() {
        return {
            fillColor: getColor(feature.properties.density),
            weight: 2,
            opacity: 1,
            color: 'white',
            dashArray: '3',
            fillOpacity: 0.7
        };
    }
    var df = {'42130': 10, '42110': 300};

    function getColor(d) {
        return d > 1000 ? '#800026' :
               d > 500  ? '#BD0026' :
               d > 200  ? '#E31A1C' :
               d > 100  ? '#FC4E2A' :
               d > 50   ? '#FD8D3C' :
               d > 20   ? '#FEB24C' :
               d > 10   ? '#FED976' :
                          '#FFEDA0';
    }

    let result = Object.keys(df).map(el => ({[el]: getColor(df[el])}) );
    console.log(df);
    geojson = L.geoJSON(gu_json, {
        style: function(feature) {
            console.log(getColor(df[feature.properties.SIG_CD]));
            return {color: getColor(df[feature.properties.SIG_CD])};
            /*
            switch (feature.properties.SIG_CD) {
                case '42130': return {color: "#ff0000"};
                case '42110':   return {color: "#0000ff"};
            }*/
        },
        onEachFeature: onEachFeature

    }).addTo(map);



    
    
</script>



</body>
</html>
